(()=>{var e={};e.id=105,e.ids=[105],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},8618:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=t(260),a=t(8203),i=t(5155),n=t.n(i),l=t(7292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7154)),"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3405)),"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1354)),"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3677:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,3219,23)),Promise.resolve().then(t.t.bind(t,4863,23)),Promise.resolve().then(t.t.bind(t,5155,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,6313,23)),Promise.resolve().then(t.t.bind(t,8530,23)),Promise.resolve().then(t.t.bind(t,8921,23))},2237:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6959,23)),Promise.resolve().then(t.t.bind(t,3875,23)),Promise.resolve().then(t.t.bind(t,8903,23)),Promise.resolve().then(t.t.bind(t,4178,23)),Promise.resolve().then(t.t.bind(t,6013,23)),Promise.resolve().then(t.t.bind(t,7190,23)),Promise.resolve().then(t.t.bind(t,1365,23))},5471:()=>{},2423:()=>{},2047:(e,s,t)=>{Promise.resolve().then(t.bind(t,3405))},5175:(e,s,t)=>{Promise.resolve().then(t.bind(t,2361))},3212:(e,s,t)=>{Promise.resolve().then(t.bind(t,7154))},4383:(e,s,t)=>{Promise.resolve().then(t.bind(t,8232))},8397:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(3258).A)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},1956:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(3258).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2557:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(3258).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2361:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(5512),a=t(6008),i=t(1372),n=t(4977),l=t(722),o=t(8009);function d({children:e}){let[s,t]=(0,o.useState)("");return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,r.jsxs)("div",{className:"w-64 bg-white shadow-lg",children:[(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"LINE Chat Summarizer"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"AI Analytics Dashboard"})]}),(0,r.jsxs)("nav",{className:"mt-6",children:[(0,r.jsxs)(a.default,{href:"/dashboard",className:"flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors",children:[(0,r.jsx)(i.A,{className:"w-5 h-5 mr-3"}),"All Sessions"]}),(0,r.jsxs)(a.default,{href:"/dashboard/groups",className:"flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-3"}),"Group Chats"]})]}),(0,r.jsx)("div",{className:"absolute bottom-0 w-64 p-6 border-t",children:(0,r.jsxs)(a.default,{href:"/login",className:"flex items-center text-gray-700 hover:text-red-600 transition-colors",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 mr-3"}),"Sign Out"]})})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"AI Chat Analytics"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:s}),(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:"AI"})]})]})}),(0,r.jsx)("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}},8232:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5512),a=t(8009),i=t(6008),n=t(4590),l=t(9400),o=t(4195),d=t(2557),c=t(1372),m=t(4977),h=t(8397);let x=(0,t(3258).A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var u=t(1956);function p(){let[e,s]=(0,a.useState)([]),[t,p]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)("all"),[j,y]=(0,a.useState)({totalSessions:0,activeSessions:0,totalSummaries:0,avgMessagesPerSession:0}),N=async()=>{try{p(!0),g(null);let e=new URLSearchParams;"all"!==b&&e.append("status",b);let t={limit:50,..."all"!==b&&{status:b}},r=await fetch(`/api/trpc/sessions.list?batch=1&input=${encodeURIComponent(JSON.stringify({0:{json:t}}))}`);if(!r.ok)throw Error(`Failed to fetch sessions: ${r.status}`);let a=await r.json(),i=a[0]?.result?.data;i&&i.sessions?(s(i.sessions),y({totalSessions:i.pagination?.total||i.sessions.length,activeSessions:i.sessions.filter(e=>"active"===e.status).length,totalSummaries:i.sessions.filter(e=>e.has_summary).length,avgMessagesPerSession:i.sessions.length>0?Math.round(i.sessions.reduce((e,s)=>e+s.message_count,0)/i.sessions.length):0})):(s([]),y({totalSessions:0,activeSessions:0,totalSummaries:0,avgMessagesPerSession:0}))}catch(e){console.error("Error fetching sessions:",e),g(`Failed to load sessions: ${e instanceof Error?e.message:"Unknown error"}`),s([]),y({totalSessions:0,activeSessions:0,totalSummaries:0,avgMessagesPerSession:0})}finally{p(!1)}},w=e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-blue-100 text-blue-800 border-blue-200";case"summarizing":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=e=>{switch(e){case"active":return"\uD83D\uDFE2";case"closed":return"✅";case"summarizing":return"\uD83E\uDD16";default:return"⚪"}};return t?(0,r.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,r.jsx)(d.A,{className:"w-6 h-6 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading chat sessions..."})]}):f?(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-red-600 mb-4",children:["Error: ",f]}),(0,r.jsxs)(l.$,{onClick:N,children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Chat Summarizer Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"AI-powered LINE chat analysis and summarization"})]}),(0,r.jsxs)(l.$,{onClick:N,children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium text-gray-600 flex items-center",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Total Sessions"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:j.totalSessions})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium text-gray-600 flex items-center",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Active Sessions"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:j.activeSessions})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium text-gray-600 flex items-center",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"AI Summaries"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.totalSummaries})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium text-gray-600 flex items-center",children:[(0,r.jsx)(x,{className:"w-4 h-4 mr-2"}),"Avg Messages"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:j.avgMessagesPerSession})})]})]}),(0,r.jsx)("div",{className:"flex space-x-1 bg-gray-200 p-1 rounded-lg w-fit",children:[{key:"all",label:"All Sessions"},{key:"active",label:"Active"},{key:"closed",label:"Completed"}].map(e=>(0,r.jsx)("button",{onClick:()=>v(e.key),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b===e.key?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.label},e.key))}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"all"===b?"All Chat Sessions":`${b.charAt(0).toUpperCase()+b.slice(1)} Sessions`})}),(0,r.jsx)(n.Wu,{children:0===e.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No chat sessions found."}):(0,r.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-lg",children:A(e.status)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.session_id}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.room_name," (",e.room_type,") •",e.message_count," messages •",(0,o.fw)(e.start_time),e.has_summary&&" • ✨ Summarized"]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${w(e.status)}`,children:e.status}),(0,r.jsx)(i.default,{href:`/dashboard/sessions/${e.session_id}`,children:(0,r.jsxs)(l.$,{size:"sm",variant:"outline",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"View"]})})]})]},e.session_id))})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,r.jsxs)(n.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(c.A,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,r.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Active Rooms"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"View all active chat rooms"})]})}),(0,r.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,r.jsxs)(n.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(h.A,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),(0,r.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"AI Analytics"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"View conversation insights"})]})}),(0,r.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,r.jsxs)(n.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(x,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),(0,r.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Reports"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Generate summary reports"})]})})]})]})}},9400:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(5512),a=t(8009),i=t(9383),n=t(1643),l=t(4195);let o=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...n},d)=>{let c=a?i.DX:"button";return(0,r.jsx)(c,{className:(0,l.cn)(o({variant:s,size:t,className:e})),ref:d,...n})});d.displayName="Button"},4590:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l});var r=t(5512),a=t(8009),i=t(4195);let n=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle",a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let d=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},4195:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i,fw:()=>n});var r=t(2281),a=t(4805);function i(...e){return(0,a.QP)((0,r.$)(e))}function n(e){let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/6e4),r=Math.floor(t/60),a=Math.floor(r/24);return t<1?"Just now":t<60?`${t}m ago`:r<24?`${r}h ago`:a<7?`${a}d ago`:new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}},3405:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/layout.tsx","default")},7154:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/naruebet.orgl/Workspace/Labs/line_chat_summarizer_ai/web/src/app/dashboard/page.tsx","default")},1354:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>n});var r=t(2740),a=t(6461),i=t.n(a);t(1135);let n={title:"LINE Chat Summarizer AI",description:"AI-powered chat summarization dashboard for LINE Official Accounts"};function l({children:e}){return(0,r.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:`${i().variable} font-sans`,suppressHydrationWarning:!0,children:(0,r.jsx)("main",{className:"min-h-screen bg-gray-50",children:e})})})}},1135:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[989,20,933,406],()=>t(8618));module.exports=r})();