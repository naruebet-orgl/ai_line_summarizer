# Database Configuration - DigitalOcean Managed MongoDB
# =====================================================
# Environment-specific database names:
#   - internal_summarub   (development/internal use)
#   - staging_summarub    (staging/test environment)
#   - production_summarub (production environment)
#
# Connection string format:
# mongodb+srv://<username>:<password>@<host>/<database>?authSource=admin&tls=true
#
MONGODB_URI=mongodb+srv://doadmin:YOUR_PASSWORD@drjel-ai-89bcac7b.mongo.ondigitalocean.com/internal_summarub?tls=true&authSource=admin&replicaSet=drjel-ai
MONGODB_DB_NAME=internal_summarub

# LINE Official Account Configuration
LINE_CHANNEL_ID=your_line_channel_id
LINE_CHANNEL_SECRET=your_line_channel_secret
LINE_CHANNEL_ACCESS_TOKEN=your_line_access_token

# Google Gemini AI Configuration
GEMINI_API_KEY=your_gemini_api_key

# Server Configuration
# For single-container deployments (both apps in one container):
#   - WEB_PORT: Port for Next.js frontend (default: 3000)
#   - BACKEND_PORT: Port for Express backend (default: 3001)
# For separate container deployments:
#   - PORT: Used by whichever app is in the container
WEB_PORT=3000
BACKEND_PORT=3001
PORT=3001
WEBHOOK_URL=https://your-domain.com/webhook/line

# Security
ENCRYPTION_KEY=your_32_character_encryption_key_here
JWT_SECRET=your_jwt_secret_key
BETTER_AUTH_SECRET=your_better_auth_secret_key
SESSION_SECRET=your_session_secret_key

# Frontend/Backend URLs (for CORS and API)
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001
CORS_ORIGIN=http://localhost:3000

# Environment
NODE_ENV=development

# Optional: Railway/Deployment
RAILWAY_STATIC_URL=your_railway_url_if_using_railway

# Logging
LOG_LEVEL=info

# Session Management Configuration (Single Source of Truth)
# Maximum messages per session before auto-close and AI summary generation
SESSION_MAX_MESSAGES=50

# Session timeout in hours before auto-close
SESSION_TIMEOUT_HOURS=24

# Minimum messages required to generate AI summary (set to 1 for testing)
SESSION_MIN_MESSAGES_FOR_SUMMARY=1